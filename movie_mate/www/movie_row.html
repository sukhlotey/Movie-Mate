{% extends 'templates/web.html' %}

{% block page_content %}
<div class="container-wrapper">
    <h1 class="text-3xl font-bold mb-6">Movies</h1>
    <div class="movie-grid">
        {% set movies = frappe.get_all('Movie', fields=['name', 'title', 'poster_image', 'genre', 'release_year', 'route'], filters={'published': 1}) %}
        {% if movies %}
            {% for doc in movies %}
            <div class="movie-row">
                <div class="movie-poster">
                    <img src="{{ doc.poster_image or '/files/placeholder.jpg' }}" alt="{{ doc.title }}" class="rounded-lg">
                </div>
                <div class="movie-details">
                    <a href="{{ doc.route }}" class="movie-title">{{ doc.title }}</a>
                    <p class="text-gray-600">Genre: {{ doc.genre or 'N/A' }}</p>
                    <p class="text-gray-800">Year: {{ doc.release_year or 'N/A' }}</p>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <p>No movies found.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
